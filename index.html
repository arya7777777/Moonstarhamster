<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>🌙✨ Hamster's Secure Message Portal 🐹</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box;}
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0b3d91 0%, #1e1e2f 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #eee;
    }
    .container {
      background: rgba(30, 30, 47, 0.95);
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.7);
      max-width: 600px;
      width: 90vw;
      text-align: center;
      position: relative;
    }
    h1 {
      margin-bottom: 25px;
      font-size: 2.5em;
      color: #ffd700;
      text-shadow: 0 0 8px #fff, 0 0 25px #ffd700;
    }
    .emoji-stars { font-size: 1.2em; margin-bottom: 18px; }
    .input-group { margin-bottom: 20px; text-align: left; color: #ccc; }
    label { font-weight: bold; display: block; margin-bottom: 6px;}
    input[type="password"] {
      width: 100%;
      padding: 12px 15px;
      font-size: 18px;
      border-radius: 10px;
      border: none;
      outline: none;
      background: #1a1a2e;
      color: #fff;
      box-shadow: inset 0 0 8px #444;
      transition: box-shadow 0.3s;
    }
    input[type="password"]:focus { box-shadow: inset 0 0 12px #ffd700; }
    button.btn {
      background: #ffd700;
      color: #1e1e2f;
      font-weight: bold;
      padding: 15px 30px;
      font-size: 18px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s;
      margin: 10px 7px;
      box-shadow: 0 5px 15px rgba(255,215,0,0.7);
    }
    button.btn:hover {
      background: #ffea00;
      box-shadow: 0 8px 20px rgba(255,235,20,0.9);
      transform: translateY(-2px);
    }
    .error {
      color: #ff4040;
      margin-top: 12px;
      font-weight: 700;
      text-shadow: 0 0 6px #ff0000;
      text-align:center;
    }
    .success {
      color: #4caf50;
      margin-top: 12px;
      font-weight: 700;
      text-shadow: 0 0 6px #40ff00;
    }
    .info {
      font-size: 0.9em;
      margin-top: 15px;
      color: #aaa;
      line-height: 1.4;
    }
    .logout-btn {
      background: #ff4646;
      box-shadow: 0 4px 10px rgba(255, 70, 70, 0.8);
    }
    .logout-btn:hover {
      background: #ff2a2a;
      box-shadow: 0 6px 15px rgba(255, 50, 50, 0.9);
    }
    .date-info {
      background: #1e1e3e;
      border-radius: 8px;
      padding: 10px 15px;
      margin-bottom: 15px;
      font-weight: 600;
      font-size: 1.05em;
      text-shadow: 0 0 4px #555;
      color: #f0e68c;
    }
    .message-content { display: none; }
    .message-box {
      background: #222244;
      border-radius: 12px;
      padding: 20px;
      margin: 22px 0;
      font-family: 'Courier New', monospace;
      font-size: 1.1em;
      color: #f0e68c;
      box-shadow: 0 4px 18px #0007;
      min-height: 80px;
      text-align: left;
      position: relative;
    }
    .msg-photo {
      margin-top: 15px;
      max-width:95%;
      border-radius: 12px;
      box-shadow: 0 3px 14px #0008;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    .msg-date-label {
      color:#ffd700;
      font-weight: bold;
      font-family: Arial, sans-serif;
      font-size: 1.05em;
      margin-bottom: 8px;
      display: inline-block;
      letter-spacing: 0.04em;
    }
    .comment-section label {
      color: #ffd700;
      font-weight: 600;
      margin-bottom: 5px;
      font-size: .99em;
    }
    .comment-bubble {
      background: rgba(40,40,60,0.97);
      color: #ffd700;
      margin-bottom: 7px;
      border-radius: 7px;
      padding: 7px 14px 7px 9px;
      font-size: 1em;
      display: inline-block;
      box-shadow: 0 2px 10px #1114;
      max-width: 92%;
      word-break: break-word;
    }
    .comment-meta {
      color: #aaa;
      margin-left: 8px;
      font-size: 0.93em;
    }
    .comment-section input[type="text"] {
      padding: 5px 9px;
      border-radius: 5px;
      border: 1px solid #eee;
      font-size: 0.98em;
      background: #1a1a2e;
      color: #ffd700;
      margin-right: 5px;
      margin-top: 5px;
    }
    .comment-section button[type="submit"] {
      background: #ffd700;
      color: #1e1e2f;
      font-weight: 600;
      border: none;
      border-radius: 6px;
      padding: 6px 14px;
      font-size: .99em;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(255,215,0,0.14);
      margin-top: 5px;
      transition: background 0.2s;
    }
    .comment-section button[type="submit"]:hover {
      background: #ffea00;
    }
  </style>
</head>
<body>
  <div class="container">
    <div id="loginForm" class="login-form">
      <h1>🌙✨ Hamster's Secure Message Portal 🐹</h1>
      <div class="emoji-stars">🌟🌙⭐🐹✨🌙⭐🌟🐹✨🌙⭐</div>
      <form onsubmit="checkPassword(event)">
        <div class="input-group">
          <label for="password">Enter Password:</label>
          <input type="password" id="password" autocomplete="off" required />
        </div>
        <button type="submit" class="btn">Access Messages</button>
      </form>
      <div id="error" class="error"></div>
      <div class="info">
        🔒 This portal contains all your messages with memories and wishes.<br />
        💡 Enter the correct password to view, post, and remember.
      </div>
    </div>

    <div id="messageContent" class="message-content" style="display: none;">
      <h1>📋 Message Memories</h1>
      <div class="date-info">📅 Last Seen: <span id="currentDate"></span></div>
      <!-- Static message list starts here -->
      <div class="message-box">
        <div class="msg-date-label">🗓️ August 30, 2025</div>
        Nannnnu I'm really sorry 😔. Main time se message nahi daal paa rha , tabiyat khraab chal rhi hai kal se. I swear kal se daalunga time pe I'm really sorry jaan I'm really sorry 😔😔😔. .kya karu jaise jaise din badh rhe hai aur mushkil ho rha hai bohot yaad aati hai Nannuu , bas ab ye hai ki aapne jo bol usse thodi ummed hai , Par nannu Kaise kru, yaaad to aati hai na. Interview bi bohot baar dekh , liya bas duaa Krna mai apke birthday se pehle theek ho jaau , 🙇🏻🙇🏻🙇🏻. I misss u so much nannnnu too much 🥺🥺🥺🥺🥺🥺🥺 Ye lo appke liye chiji 🫴🏻🍫🍫🍫🍫🍫🍫🍫 Nannu please unhealthy kuch mat khana please and apna dhyaan rkhna okay I beg you nannu mere bacheee mere pyaaru cutu shone bache , meri aankho kaa taara ho na 🥺. ...
        <img src="1000742822.jpeg" class="msg-photo" alt="Photo"/>
        <div class="comment-section">
          <label for="commentInput0">Leave a word so I know you read it:</label>
          <form data-msgidx="0" class="commentForm" style="margin-bottom:6px;">
            <input type="text" required maxlength="30" id="commentInput0" placeholder="Type a word or note...">
            <button type="submit">Send</button>
          </form>
          <div class="error commentError" style="margin-top:3px;" id="commentError0"></div>
          <div class="commentList" id="commentList0"></div>
        </div>
      </div>
      <div class="message-box">
        <div class="msg-date-label">🗓️ August 31, 2025</div>
        nannu 🥺.  bohot overthinking ho rhi hai.   please aap mere message padhke ispe react kr diya kro , and aapka phone kaafi der silent rhaa aap online bhi hote ho nannu, please aap agr Kisi se baat kr rhe ho to btaado
        <br><br>
        bohot yaad aayi h 🥺🥺🥺<br>
        aaj yha bohot baarish pad rhi hai.  andhera bi aapko hug to kiya hua hai par man me bechaini si ho rhi hai please shif ka account kholke muje message Krna kuch puchna hai nannu 
        <img src="1000742822.jpeg" class="msg-photo" alt="Photo"/>
        <div class="comment-section">
          <label for="commentInput1">Leave a word so I know you read it:</label>
          <form data-msgidx="1" class="commentForm" style="margin-bottom:6px;">
            <input type="text" required maxlength="30" id="commentInput1" placeholder="Type a word or note...">
            <button type="submit">Send</button>
          </form>
          <div class="error commentError" style="margin-top:3px;" id="commentError1"></div>
          <div class="commentList" id="commentList1"></div>
        </div>
      </div>
      <button onclick="logout()" class="btn logout-btn" style="margin-top:16px;">🚪 Logout</button>
      <div class="info">
        🔄 Every message (with photo or not) will remain here permanently.<br>
        💛 If you read a message, please leave a word/note in its comment box!
      </div>
    </div>
  </div>
  <script>
    const CORRECT_PASSWORD = "MOONSTAR131";
    function checkPassword(event) {
      event.preventDefault();
      const entered = document.getElementById("password").value;
      const errorDiv = document.getElementById("error");
      if (entered === CORRECT_PASSWORD) {
        document.getElementById("loginForm").style.display = "none";
        document.getElementById("messageContent").style.display = "block";
        updateCurrentDate();
        errorDiv.textContent = "";
      } else {
        errorDiv.textContent = "❌ Incorrect password. Please try again.";
        document.getElementById("password").value = "";
      }
    }
    function logout() {
      document.getElementById("loginForm").style.display = "block";
      document.getElementById("messageContent").style.display = "none";
      document.getElementById("password").value = "";
      document.getElementById("error").textContent = "";
    }
    function updateCurrentDate() {
      const now = new Date();
      const options = {
        year: "numeric",
        month: "long",
        day: "numeric",
        hour: "2-digit",
        minute: "2-digit",
        timeZone: "Asia/Kolkata",
      };
      document.getElementById("currentDate").textContent = now.toLocaleDateString("en-IN", options) + " IST";
    }
    let inactivityTimer;
    function resetInactivityTimer() {
      clearTimeout(inactivityTimer);
      inactivityTimer = setTimeout(() => {
        if (document.getElementById("messageContent").style.display === "block") {
          logout();
          alert("⏰ Session expired due to inactivity. Please login again.");
        }
      }, 30 * 60 * 1000);
    }
    document.addEventListener("click", resetInactivityTimer);
    document.addEventListener("keypress", resetInactivityTimer);
    resetInactivityTimer();

    // --- Comment Section Logic (by Message Index) ---
    function getCommentsFor(idx) {
      return JSON.parse(localStorage.getItem('comments_for_'+idx)||'[]');
    }
    function saveCommentsFor(idx, arr) {
      localStorage.setItem('comments_for_'+idx, JSON.stringify(arr));
    }
    function renderCommentsFor(idx) {
      const div = document.getElementById('commentList'+idx);
      const arr = getCommentsFor(idx);
      if(!div) return;
      if(arr.length===0) {
        div.innerHTML = "<span style='color:#aaa;'>No comments yet.</span>";
        return;
      }
      div.innerHTML = arr.map(c=>`
        <div class="comment-bubble">
          ${c.text}
          <span class="comment-meta">(${c.date})</span>
        </div>
      `).join('');
    }
    Array.from(document.querySelectorAll('.commentForm')).forEach(form=>{
      const idx = form.getAttribute('data-msgidx');
      form.addEventListener('submit',function(e){
        e.preventDefault();
        const input = form.querySelector('input[type="text"]');
        const errorDiv = document.getElementById('commentError'+idx);
        let comment = input.value.trim();
        if (comment.length === 0) {
          errorDiv.textContent = "Please enter a word or short comment.";
          return;
        }
        if (comment.length > 30) {
          errorDiv.textContent = "Keep your comment under 30 characters.";
          return;
        }
        let arr = getCommentsFor(idx);
        const now = new Date();
        const dateStr = now.toLocaleDateString("en-IN", {
          year: "numeric", month: "short", day: "numeric",
          hour: "2-digit", minute: "2-digit"
        }) + " IST";
        arr.push({text: comment, date: dateStr});
        saveCommentsFor(idx, arr);
        input.value = "";
        errorDiv.textContent = "";
        renderCommentsFor(idx);
      });
      renderCommentsFor(idx);
    });
    updateCurrentDate();
  </script>
</body>
</html>
